# Smart Closet 가상환경 자동 활성화 설정 가이드

## 🎯 목표
Smart_Closet 폴더에서 터미널을 열면 자동으로 `.venv309` 가상환경이 활성화되도록 설정

---

## 방법 1: PowerShell 프로필 사용 (권장) ⭐

### 1단계: PowerShell 프로필 위치 확인
PowerShell을 열고 실행:
```powershell
$PROFILE
```

일반적인 경로:
```
C:\Users\parkj\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1
```

### 2단계: 프로필 파일 열기
```powershell
notepad $PROFILE
```

파일이 없다는 오류가 나면:
```powershell
New-Item -Path $PROFILE -Type File -Force
notepad $PROFILE
```

### 3단계: 다음 코드 추가
```powershell
# Smart Closet 가상환경 자동 활성화
function Enable-SmartClosetVenv {
    $currentPath = Get-Location
    $smartClosetPath = "C:\Users\parkj\Desktop\Smart_Closet"
    
    if ($currentPath.Path -like "$smartClosetPath*") {
        $venvPath = Join-Path $smartClosetPath ".venv309\Scripts\Activate.ps1"
        
        if (-not $env:VIRTUAL_ENV) {
            if (Test-Path $venvPath) {
                Write-Host "🐍 Smart Closet 가상환경 활성화 중..." -ForegroundColor Cyan
                & $venvPath
                Write-Host "✓ .venv309 가상환경 활성화 완료" -ForegroundColor Green
                Write-Host ""
            }
        }
    }
}

# cd 명령어 실행 시 자동 체크
function cd {
    param([string]$Path)
    if ($Path) { Set-Location $Path }
    Enable-SmartClosetVenv
}

# PowerShell 시작 시 자동 체크
Enable-SmartClosetVenv
```

### 4단계: 실행 정책 설정 (최초 1회)
관리자 권한으로 PowerShell 실행 후:
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### 5단계: 테스트
새 PowerShell 창을 열고:
```powershell
cd C:\Users\parkj\Desktop\Smart_Closet
```
→ 자동으로 가상환경 활성화됨!

---

## 방법 2: VS Code 워크스페이스 설정

### 1단계: `.vscode/settings.json` 파일 생성/수정
Smart_Closet 폴더에 `.vscode` 폴더 생성 후 `settings.json`:

```json
{
    "python.defaultInterpreterPath": "${workspaceFolder}/.venv309/Scripts/python.exe",
    "python.terminal.activateEnvironment": true,
    "terminal.integrated.env.windows": {
        "VIRTUAL_ENV": "${workspaceFolder}/.venv309"
    }
}
```

### 2단계: VS Code 재시작
VS Code에서 터미널을 열면 자동으로 가상환경 활성화됨

---

## 방법 3: 간단한 배치 파일 사용

### activate_here.bat 생성
```batch
@echo off
cd /d "%~dp0"
call .venv309\Scripts\activate.bat
cmd /k
```

사용법: `activate_here.bat` 더블클릭 → 가상환경이 활성화된 터미널 열림

---

## 방법 4: direnv 사용 (Linux/Mac 스타일)

### 1단계: .envrc 파일 생성
Smart_Closet 폴더에 `.envrc` 파일:
```bash
source .venv309/Scripts/activate
```

### 2단계: direnv 설치 (선택사항)
Windows에서는 WSL을 통해 사용 가능

---

## 🔍 현재 상태 확인

### 가상환경이 활성화되었는지 확인:
```powershell
# 방법 1: 환경변수 확인
$env:VIRTUAL_ENV

# 방법 2: Python 경로 확인
(Get-Command python).Source

# 방법 3: 프롬프트 확인
# (.venv309) 표시가 있으면 활성화된 상태
```

### 수동으로 활성화:
```powershell
# PowerShell
.\.venv309\Scripts\Activate.ps1

# CMD
.venv309\Scripts\activate.bat
```

---

## 💡 추천 방법

**일반 사용자**: 방법 2 (VS Code 설정) + 방법 3 (배치 파일)
**개발자**: 방법 1 (PowerShell 프로필) ⭐

---

## ⚠️ 문제 해결

### "이 시스템에서 스크립트를 실행할 수 없습니다" 오류
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### 가상환경이 활성화되지 않음
1. `.venv309` 폴더 존재 확인
2. `Scripts/Activate.ps1` 파일 존재 확인
3. PowerShell 프로필 경로 확인: `$PROFILE`

### VS Code에서 자동 활성화 안 됨
1. VS Code 재시작
2. Python 확장 프로그램 설치 확인
3. `Ctrl+Shift+P` → "Python: Select Interpreter" → `.venv309` 선택

---

**작성일**: 2025-10-24
**적용 경로**: C:\Users\parkj\Desktop\Smart_Closet
